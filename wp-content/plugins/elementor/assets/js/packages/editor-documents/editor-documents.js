(function(){"use strict";var __webpack_modules__=({"react":
/*!**************************!*\
  !*** external ["React"] ***!
  \**************************/
(function(module){module.exports=window["React"];}),"@elementor/editor-v1-adapters":
/*!***************************************************!*\
  !*** external ["elementorV2","editorV1Adapters"] ***!
  \***************************************************/
(function(module){module.exports=window["elementorV2"]["editorV1Adapters"];}),"@elementor/store":
/*!****************************************!*\
  !*** external ["elementorV2","store"] ***!
  \****************************************/
(function(module){module.exports=window["elementorV2"]["store"];})});var __webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==undefined){return cachedModule.exports;}
var module=__webpack_module_cache__[moduleId]={exports:{}};__webpack_modules__[moduleId](module,module.exports,__webpack_require__);return module.exports;}!function(){__webpack_require__.d=function(exports,definition){for(var key in definition){if(__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)){Object.defineProperty(exports,key,{enumerable:true,get:definition[key]});}}};}();!function(){__webpack_require__.o=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop);}}();!function(){__webpack_require__.r=function(exports){if(typeof Symbol!=='undefined'&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:'Module'});}
Object.defineProperty(exports,'__esModule',{value:true});};}();var __webpack_exports__={};!function(){
/*!*****************************************************************!*\
  !*** ./node_modules/@elementor/editor-documents/dist/index.mjs ***!
  \*****************************************************************/
__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{__useActiveDocument:function(){return useActiveDocument;},__useActiveDocumentActions:function(){return useActiveDocumentActions;},__useHostDocument:function(){return useHostDocument;},__useNavigateToDocument:function(){return useNavigateToDocument;}});var _elementor_store__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! @elementor/store */"@elementor/store");var _elementor_editor_v1_adapters__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! @elementor/editor-v1-adapters */"@elementor/editor-v1-adapters");var react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! react */"react");var initialState={entities:{},activeId:null,hostId:null};function hasActiveEntity(state){return!!(state.activeId&&state.entities[state.activeId]);}
var slice=(0,_elementor_store__WEBPACK_IMPORTED_MODULE_0__.__createSlice)({name:"documents",initialState,reducers:{init(state,{payload}){state.entities=payload.entities;state.hostId=payload.hostId;state.activeId=payload.activeId;},activateDocument(state,action){state.entities[action.payload.id]=action.payload;state.activeId=action.payload.id;},setAsHost(state,action){state.hostId=action.payload;},updateActiveDocument(state,action){if(hasActiveEntity(state)){state.entities[state.activeId]={...state.entities[state.activeId],...action.payload};}},startSaving(state){if(hasActiveEntity(state)){state.entities[state.activeId].isSaving=true;}},endSaving(state,action){if(hasActiveEntity(state)){state.entities[state.activeId]={...action.payload,isSaving:false};}},startSavingDraft:(state)=>{if(hasActiveEntity(state)){state.entities[state.activeId].isSavingDraft=true;}},endSavingDraft(state,action){if(hasActiveEntity(state)){state.entities[state.activeId]={...action.payload,isSavingDraft:false};}},markAsDirty(state){if(hasActiveEntity(state)){state.entities[state.activeId].isDirty=true;}},markAsPristine(state){if(hasActiveEntity(state)){state.entities[state.activeId].isDirty=false;}}}});function getV1DocumentsManager(){const documentsManager=window.elementor?.documents;if(!documentsManager){throw new Error("Elementor Editor V1 documents manager not found");}
return documentsManager;}
function normalizeV1Document(documentData){const isUnpublishedRevision=documentData.config.revisions.current_id!==documentData.id;return{id:documentData.id,title:documentData.container.settings.get("post_title"),type:{value:documentData.config.type,label:documentData.config.panel.title},status:{value:documentData.config.status.value,label:documentData.config.status.label},links:{platformEdit:documentData.config.urls.exit_to_dashboard},isDirty:documentData.editor.isChanged||isUnpublishedRevision,isSaving:documentData.editor.isSaving,isSavingDraft:false,userCan:{publish:documentData.config.user.can_publish}};}
function syncStore(){syncInitialization();syncActiveDocument();syncOnDocumentSave();syncOnTitleChange();syncOnDocumentChange();}
function syncInitialization(){const{init:init2}=slice.actions;(0,_elementor_editor_v1_adapters__WEBPACK_IMPORTED_MODULE_1__.__privateListenTo)((0,_elementor_editor_v1_adapters__WEBPACK_IMPORTED_MODULE_1__.v1ReadyEvent)(),()=>{const documentsManager=getV1DocumentsManager();const entities=Object.entries(documentsManager.documents).reduce((acc,[id,document])=>{acc[id]=normalizeV1Document(document);return acc;},{});(0,_elementor_store__WEBPACK_IMPORTED_MODULE_0__.__dispatch)(init2({entities,hostId:documentsManager.getInitialId(),activeId:documentsManager.getCurrentId()}));});}
function syncActiveDocument(){const{activateDocument,setAsHost}=slice.actions;(0,_elementor_editor_v1_adapters__WEBPACK_IMPORTED_MODULE_1__.__privateListenTo)((0,_elementor_editor_v1_adapters__WEBPACK_IMPORTED_MODULE_1__.commandEndEvent)("editor/documents/open"),()=>{const documentsManager=getV1DocumentsManager();const currentDocument=normalizeV1Document(documentsManager.getCurrent());(0,_elementor_store__WEBPACK_IMPORTED_MODULE_0__.__dispatch)(activateDocument(currentDocument));if(documentsManager.getInitialId()===currentDocument.id){(0,_elementor_store__WEBPACK_IMPORTED_MODULE_0__.__dispatch)(setAsHost(currentDocument.id));}});}
function syncOnDocumentSave(){const{startSaving,endSaving,startSavingDraft,endSavingDraft}=slice.actions;const isDraft=(e)=>{const event=e;return event.args?.status==="autosave";};(0,_elementor_editor_v1_adapters__WEBPACK_IMPORTED_MODULE_1__.__privateListenTo)((0,_elementor_editor_v1_adapters__WEBPACK_IMPORTED_MODULE_1__.commandStartEvent)("document/save/save"),(e)=>{if(isDraft(e)){(0,_elementor_store__WEBPACK_IMPORTED_MODULE_0__.__dispatch)(startSavingDraft());return;}
(0,_elementor_store__WEBPACK_IMPORTED_MODULE_0__.__dispatch)(startSaving());});(0,_elementor_editor_v1_adapters__WEBPACK_IMPORTED_MODULE_1__.__privateListenTo)((0,_elementor_editor_v1_adapters__WEBPACK_IMPORTED_MODULE_1__.commandEndEvent)("document/save/save"),(e)=>{const activeDocument=normalizeV1Document(getV1DocumentsManager().getCurrent());if(isDraft(e)){(0,_elementor_store__WEBPACK_IMPORTED_MODULE_0__.__dispatch)(endSavingDraft(activeDocument));}else{(0,_elementor_store__WEBPACK_IMPORTED_MODULE_0__.__dispatch)(endSaving(activeDocument));}});}
function syncOnTitleChange(){const{updateActiveDocument}=slice.actions;const updateTitle=debounce((e)=>{const event=e;if(!("post_title"in event.args?.settings)){return;}
const currentDocument=getV1DocumentsManager().getCurrent();const newTitle=currentDocument.container.settings.get("post_title");(0,_elementor_store__WEBPACK_IMPORTED_MODULE_0__.__dispatch)(updateActiveDocument({title:newTitle}));},400);(0,_elementor_editor_v1_adapters__WEBPACK_IMPORTED_MODULE_1__.__privateListenTo)((0,_elementor_editor_v1_adapters__WEBPACK_IMPORTED_MODULE_1__.commandEndEvent)("document/elements/settings"),updateTitle);}
function syncOnDocumentChange(){const{markAsDirty,markAsPristine}=slice.actions;(0,_elementor_editor_v1_adapters__WEBPACK_IMPORTED_MODULE_1__.__privateListenTo)((0,_elementor_editor_v1_adapters__WEBPACK_IMPORTED_MODULE_1__.commandEndEvent)("document/save/set-is-modified"),()=>{const currentDocument=getV1DocumentsManager().getCurrent();if(currentDocument.editor.isChanged){(0,_elementor_store__WEBPACK_IMPORTED_MODULE_0__.__dispatch)(markAsDirty());return;}
(0,_elementor_store__WEBPACK_IMPORTED_MODULE_0__.__dispatch)(markAsPristine());});}
function debounce(fn,timeout){let timer;return(...args)=>{clearTimeout(timer);timer=setTimeout(()=>{fn(...args);},timeout);};}
function init(){initStore();}
function initStore(){(0,_elementor_store__WEBPACK_IMPORTED_MODULE_0__.__registerSlice)(slice);syncStore();}
var selectEntities=(state)=>state.documents.entities;var selectActiveId=(state)=>state.documents.activeId;var selectHostId=(state)=>state.documents.hostId;var selectActiveDocument=(0,_elementor_store__WEBPACK_IMPORTED_MODULE_0__.__createSelector)(selectEntities,selectActiveId,(entities,activeId)=>activeId&&entities[activeId]?entities[activeId]:null);var selectHostDocument=(0,_elementor_store__WEBPACK_IMPORTED_MODULE_0__.__createSelector)(selectEntities,selectHostId,(entities,hostId)=>hostId&&entities[hostId]?entities[hostId]:null);function useActiveDocument(){return(0,_elementor_store__WEBPACK_IMPORTED_MODULE_0__.__useSelector)(selectActiveDocument);}
function useActiveDocumentActions(){const save=(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(()=>(0,_elementor_editor_v1_adapters__WEBPACK_IMPORTED_MODULE_1__.__privateRunCommand)("document/save/default"),[]);const saveDraft=(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(()=>(0,_elementor_editor_v1_adapters__WEBPACK_IMPORTED_MODULE_1__.__privateRunCommand)("document/save/draft"),[]);const saveTemplate=(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(()=>(0,_elementor_editor_v1_adapters__WEBPACK_IMPORTED_MODULE_1__.__privateOpenRoute)("library/save-template"),[]);return{save,saveDraft,saveTemplate};}
function useHostDocument(){return(0,_elementor_store__WEBPACK_IMPORTED_MODULE_0__.__useSelector)(selectHostDocument);}
function useNavigateToDocument(){return(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(async(id)=>{await(0,_elementor_editor_v1_adapters__WEBPACK_IMPORTED_MODULE_1__.__privateRunCommand)("editor/documents/switch",{id,setAsInitial:true});const url=new URL(window.location.href);url.searchParams.set("post",id.toString());url.searchParams.delete("active-document");history.replaceState({},"",url);},[]);}
init();}();(window.elementorV2=window.elementorV2||{}).editorDocuments=__webpack_exports__;})();